# Application name for test profile
spring.application.name=Booking-Service-Test

# Use random server port to avoid conflicts during tests
server.port=0

# Let embedded MongoDB auto-configure (no manual URI needed)
spring.data.mongodb.auto-index-creation=false

# Exclude OAuth2 and Security auto configurations for simple context load test
spring.autoconfigure.exclude=
  org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration,\
  org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration,\
  org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration

# Mock microservice URLs
microservices.appointment-service.url=http://localhost:9999
microservices.property-service.url=http://localhost:9999
microservices.user-service.url=http://localhost:9999

# Logging levels (reduce noise from embedded MongoDB)
logging.level.com.example.bookingservice=INFO
logging.level.org.springframework.security=WARN
logging.level.org.springframework.boot.autoconfigure=WARN
logging.level.org.mongodb=WARN
logging.level.de.flapdoodle.embed.mongo=WARN

# Disable actuator endpoints for tests
management.endpoints.enabled-by-default=false
management.health.mongo.enabled=false